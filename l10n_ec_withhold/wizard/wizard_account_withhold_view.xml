<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="wizard_account_withhold_form" model="ir.ui.view">
        <field name="name">wizard.account.withhold.form</field>
        <field name="model">wizard.account.withhold</field>
        <field name="arch" type="xml">
			<form string="Withholding">
				<group>
					<group>
						<field name="journal_id" domain="[('l10n_ec_withhold', 'in', ('sale', 'purchase'))]" options="{'no_open': True, 'no_create': True}"/>
						<field name="l10n_latam_document_type_id" domain="[('code', '=', '07')]" options="{'no_open': True, 'no_create': True}"/>
						<field name="l10n_latam_document_number"/>
						<field name="date"/>
						<field name="company_id" invisible="1"/>
					</group>
					<group>
					</group>
				</group>
				<field name="account_withhold_line_ids" force_save="1" mode="tree">
		            <tree editable="bottom">
	                    <field name="company_id" invisible="1"/>
						<field name="tax_id"
							   domain="[('type_tax_use', '=', 'none'), ('tax_group_id.l10n_ec_type', 'in', ['withhold_vat','withhold_income_tax'])]"
							   options="{'no_create': True,'no_open': True}" required="True"/>
	                    <field name="invoice_id" required="True"/>
	                    <field name="account_id" readonly="1" groups="account.group_account_user"/>
	                    <field name="account_id" readonly="0" invisible="1"/> <!-- editable version to be able to write from onchange -->
	                    <field name="base"/>
	                    <field name="amount"/>
	                </tree>
		    	</field>
				<footer>
	                <button string="Generate" name="action_generate_withhold" type="object" class="oe_highlight"/>
	                <button string="Close" special="cancel" class="oe_link"/>
            	</footer>
			</form>
		</field>
    </record>

</odoo>
